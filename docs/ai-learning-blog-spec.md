<!-- Generated by spec-interview v1.0.0 -->
<!-- Date: 2026-02-23 | Rounds: 5 -->

# AI Learning Blog - Technical Specification

> **Generated**: 2026-02-23
> **Status**: Draft v1.0
> **Based on**: [lean-canvas-ai-learning-blog-20260223.md](lean-canvas-ai-learning-blog-20260223.md)

---

## 1. Overview

### Purpose

기존 `ai-learning` 레포의 마크다운 콘텐츠(digests/learnings)를 Astro 기반 정적 블로그로 변환하여 개인 브랜딩 및 학습 기록 공개 채널을 구축한다.

### Scope

**In Scope (v1):**
- Astro 프로젝트 셋업 (`/blog` 서브디렉토리)
- 기존 7개 MD 파일 마이그레이션 (frontmatter 자동 변환 스크립트)
- 카테고리별 목록 페이지 (digests, learnings)
- 태그별 목록 페이지
- 홈 페이지 (최신 포스트 모아보기)
- 기본 SEO (meta, Open Graph, sitemap)
- GitHub Pages 배포 (GitHub Actions CI/CD)
- 커뮤니티 테마 적용

**Out of Scope (v2+):**
- About 페이지
- 검색 기능
- 댓글 시스템
- RSS 피드
- 다크 모드 토글
- 커스텀 도메인
- i18n 라우팅 (/ko, /en)
- CMS 연동
- 이메일 구독

---

## 2. Requirements

### Functional Requirements

#### FR-1: Content Migration
- **Description**: 기존 7개 MD 파일을 Astro Content Collections 호환 형태로 변환
- **Priority**: High
- **Acceptance Criteria**:
  - [ ] 마이그레이션 스크립트가 파일명에서 date, slug 자동 추출
  - [ ] 기존 태그(`#ai #context-engineering`) → frontmatter tags 배열로 변환
  - [ ] `> **Source**:` 패턴에서 source URL 추출
  - [ ] title은 첫 번째 `# ` 헤딩에서 추출
  - [ ] category는 소스 디렉토리명(digests/learnings)에서 추출
  - [ ] 변환 후 원본 콘텐츠 무결성 유지

#### FR-2: Home Page
- **Description**: 전체 포스트를 최신순으로 나열하는 홈 페이지
- **Priority**: High
- **Acceptance Criteria**:
  - [ ] 모든 포스트를 날짜 내림차순으로 표시
  - [ ] 각 포스트 카드에 제목, 날짜, 카테고리, 태그 표시
  - [ ] 카테고리별 필터 네비게이션

#### FR-3: Category Pages
- **Description**: `/digests/`, `/learnings/` 각각 카테고리별 목록 페이지
- **Priority**: High
- **Acceptance Criteria**:
  - [ ] `/digests/` → digests 카테고리 포스트만 표시
  - [ ] `/learnings/` → learnings 카테고리 포스트만 표시
  - [ ] 날짜 내림차순 정렬

#### FR-4: Tag Pages
- **Description**: `/tags/[tag]/` 태그별 목록 페이지
- **Priority**: High
- **Acceptance Criteria**:
  - [ ] 각 태그 클릭 시 해당 태그를 가진 포스트 목록 표시
  - [ ] 태그 목록 페이지 (`/tags/`) 제공

#### FR-5: Post Detail Page
- **Description**: `/[category]/[slug]/` 개별 포스트 상세 페이지
- **Priority**: High
- **Acceptance Criteria**:
  - [ ] 마크다운 콘텐츠 렌더링 (테이블, 코드블록, 리스트 등)
  - [ ] 제목, 날짜, 카테고리, 태그 메타 정보 표시
  - [ ] 이전/다음 포스트 네비게이션

#### FR-6: SEO
- **Description**: 기본 검색 엔진 최적화
- **Priority**: Medium
- **Acceptance Criteria**:
  - [ ] 각 페이지 meta title, description 자동 생성
  - [ ] Open Graph 태그 (og:title, og:description, og:type)
  - [ ] sitemap.xml 자동 생성
  - [ ] 적절한 HTML semantic 구조 (`<article>`, `<nav>`, `<main>`)

#### FR-7: CI/CD Pipeline
- **Description**: main 브랜치 push 시 자동 빌드/배포
- **Priority**: High
- **Acceptance Criteria**:
  - [ ] GitHub Actions workflow 구성
  - [ ] main push → Astro build → GitHub Pages deploy
  - [ ] 빌드 실패 시 배포 차단

### Non-Functional Requirements

#### NFR-1: Performance
- Lighthouse Performance score 90+
- 정적 HTML이므로 별도 서버 불필요
- 이미지 미포함 상태에서 페이지 크기 < 500KB

#### NFR-2: Build Speed
- 7개 포스트 기준 빌드 시간 < 30초
- 콘텐츠 추가 시에도 선형적 빌드 시간 증가

#### NFR-3: Accessibility
- 커뮤니티 테마 기본 접근성 수준 유지
- 시맨틱 HTML 보장

---

## 3. Technical Design

### Architecture Overview

```
ai-learning/                    # 기존 레포 (유지)
├── digests/                    # 원본 콘텐츠 (유지)
├── learnings/                  # 원본 콘텐츠 (유지)
├── blog/                       # Astro 프로젝트 (신규)
│   ├── astro.config.mjs
│   ├── package.json
│   ├── src/
│   │   ├── content/
│   │   │   ├── config.ts       # Content Collections 스키마
│   │   │   ├── digests/        # 마이그레이션된 콘텐츠
│   │   │   └── learnings/      # 마이그레이션된 콘텐츠
│   │   ├── layouts/
│   │   │   └── ...             # 테마 레이아웃
│   │   └── pages/
│   │       ├── index.astro     # 홈 (전체 포스트 목록)
│   │       ├── digests/
│   │       │   ├── index.astro # 카테고리 목록
│   │       │   └── [...slug].astro
│   │       ├── learnings/
│   │       │   ├── index.astro # 카테고리 목록
│   │       │   └── [...slug].astro
│   │       └── tags/
│   │           ├── index.astro # 전체 태그 목록
│   │           └── [tag].astro # 태그별 포스트 목록
│   ├── public/
│   │   └── ...                 # 정적 에셋
│   └── scripts/
│       └── migrate.ts          # 콘텐츠 마이그레이션 스크립트
├── .github/
│   └── workflows/
│       └── deploy-blog.yml     # GitHub Actions
└── lean-canvas-ai-learning-blog-20260223.md
```

### Technology Stack

| Layer | Choice | Rationale |
|-------|--------|-----------|
| **SSG** | Astro | 마크다운 중심 콘텐츠에 최적화, Content Collections로 타입 안전한 콘텐츠 관리 |
| **Styling** | 커뮤니티 테마 (TBD) | 1주일 타임라인에서 디자인 시간 절약 |
| **Hosting** | GitHub Pages | 무료, 기존 레포와 통합, 간단한 설정 |
| **CI/CD** | GitHub Actions | GitHub Pages와 네이티브 통합 |
| **Language** | TypeScript | Astro Content Collections 스키마 타입 안전성 |

### Key Components

#### Component 1: Content Collections Schema

```typescript
// blog/src/content/config.ts
import { defineCollection, z } from 'astro:content';

const postSchema = z.object({
  title: z.string(),
  date: z.coerce.date(),
  description: z.string().optional(),
  category: z.enum(['digests', 'learnings']),
  tags: z.array(z.string()).default([]),
  source: z.string().url().optional(),
  lang: z.enum(['ko', 'en']).default('ko'),
  draft: z.boolean().default(false),
});

const digests = defineCollection({ type: 'content', schema: postSchema });
const learnings = defineCollection({ type: 'content', schema: postSchema });

export const collections = { digests, learnings };
```

#### Component 2: Migration Script

```typescript
// blog/scripts/migrate.ts
// Input:  ../digests/*.md, ../learnings/*.md
// Output: src/content/digests/*.md, src/content/learnings/*.md
//
// Transformation rules:
// 1. 파일명 파싱: YYYY-MM-DD-slug.md → date, slug 추출
// 2. 첫 번째 # 헤딩 → title
// 3. > **Source**: URL → source
// 4. > **Tags**: #tag1 #tag2 → tags: [tag1, tag2]
// 5. category: 소스 디렉토리명
// 6. lang: 파일명에 '-en' 포함 시 'en', 아니면 'ko'
// 7. description: 요약 섹션 첫 문장 추출
// 8. frontmatter 생성 후 콘텐츠 앞에 삽입
```

#### Component 3: GitHub Actions Workflow

```yaml
# .github/workflows/deploy-blog.yml
name: Deploy Blog

on:
  push:
    branches: [main]

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    defaults:
      run:
        working-directory: ./blog
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: 20
          cache: npm
          cache-dependency-path: blog/package-lock.json
      - run: npm ci
      - run: npm run build
      - uses: actions/upload-pages-artifact@v3
        with:
          path: blog/dist
      - uses: actions/deploy-pages@v4
```

### Data Models

#### Post Frontmatter

```yaml
---
title: "Effective Context Engineering for AI Agents"
date: 2026-01-27
description: "Anthropic의 컨텍스트 엔지니어링 가이드 요약"
category: digests
tags: [ai, context-engineering, ai-agents, llm, anthropic]
source: "https://www.anthropic.com/engineering/..."
lang: ko
draft: false
---
```

---

## 4. User Experience

### URL Structure

| Page | URL Pattern | Example |
|------|-------------|---------|
| Home | `/` | `/` |
| Digest List | `/digests/` | `/digests/` |
| Learning List | `/learnings/` | `/learnings/` |
| Post Detail | `/[category]/[slug]/` | `/digests/ai-context-engineering/` |
| Tag List | `/tags/` | `/tags/` |
| Tag Filter | `/tags/[tag]/` | `/tags/ai-agents/` |

### User Flows

#### Flow 1: Browse Posts (Happy Path)
1. 사용자가 홈페이지 방문
2. 최신 포스트 목록 확인
3. 관심 있는 포스트 클릭
4. 상세 페이지에서 콘텐츠 읽기
5. 태그 클릭하여 관련 포스트 탐색

#### Flow 2: Category Navigation
1. 네비게이션에서 Digests 또는 Learnings 클릭
2. 해당 카테고리 포스트만 필터링되어 표시
3. 포스트 선택하여 읽기

#### Flow 3: Tag Exploration
1. 포스트 상세에서 태그 클릭 (예: `#ai-agents`)
2. `/tags/ai-agents/` 페이지로 이동
3. 동일 태그를 가진 모든 포스트 목록 표시

### Navigation Structure

```
[Blog Title]    [Digests]    [Learnings]    [Tags]
```

---

## 5. Implementation Plan

### Phase 1: Project Setup (Day 1-2)

- [ ] `/blog` 디렉토리에 Astro 프로젝트 초기화
- [ ] 커뮤니티 테마 선정 및 적용
- [ ] Content Collections 스키마 정의 (`config.ts`)
- [ ] Astro 설정 (`astro.config.mjs` — base path, site URL, sitemap)
- [ ] TypeScript 설정

### Phase 2: Content Migration (Day 2-3)

- [ ] 마이그레이션 스크립트 작성 (`scripts/migrate.ts`)
- [ ] 기존 7개 MD 파일 자동 변환 실행
- [ ] 변환 결과 검증 (frontmatter 정합성, 콘텐츠 무결성)
- [ ] 필요시 수동 보정

### Phase 3: Pages & Routing (Day 3-4)

- [ ] 홈 페이지 — 전체 포스트 목록 (최신순)
- [ ] 카테고리 목록 페이지 (`/digests/`, `/learnings/`)
- [ ] 카테고리별 포스트 상세 페이지 (`/[category]/[slug]/`)
- [ ] 태그 목록 페이지 (`/tags/`)
- [ ] 태그별 포스트 목록 (`/tags/[tag]/`)

### Phase 4: SEO & Polish (Day 4-5)

- [ ] meta title/description 자동 생성
- [ ] Open Graph 태그
- [ ] sitemap.xml 설정 (`@astrojs/sitemap`)
- [ ] 전체 페이지 데스크톱/모바일 확인
- [ ] Lighthouse 점수 확인

### Phase 5: Deploy (Day 5-6)

- [ ] GitHub Actions workflow 작성
- [ ] GitHub Pages 설정 (레포 Settings → Pages → GitHub Actions)
- [ ] 첫 배포 및 라이브 확인
- [ ] 404 페이지 동작 확인

### Phase 6: Final QA (Day 6-7)

- [ ] 전체 링크 동작 확인
- [ ] 모든 포스트 렌더링 검증 (테이블, 코드블록 등)
- [ ] 모바일 반응형 확인
- [ ] README 업데이트 (블로그 링크 추가)

---

## 6. Technical Decisions

### Decision 1: Astro over Hugo/Next.js
- **Options Considered**: Hugo, Astro, Next.js, 11ty
- **Chosen**: Astro
- **Rationale**: 마크다운 중심 콘텐츠에 최적화, Content Collections의 타입 안전성, 커뮤니티 테마 풍부, 빌드 빠름
- **Trade-offs**: Hugo보다 빌드 약간 느림, Next.js보다 동적 기능 제한적

### Decision 2: Same Repo Subdirectory over Separate Repo
- **Options Considered**: 루트에 Astro 설정, /blog 서브디렉토리, 별도 레포
- **Chosen**: /blog 서브디렉토리
- **Rationale**: 기존 레포 구조 유지, 콘텐츠와 블로그 코드가 같은 곳에 위치, 단일 git history
- **Trade-offs**: GitHub Pages 설정에서 base path 주의 필요

### Decision 3: Community Theme over Custom Design
- **Options Considered**: 공식 테마, 커뮤니티 테마, Tailwind 직접 구성
- **Chosen**: 커뮤니티 테마
- **Rationale**: 1주일 타임라인에서 디자인 시간 절약, 다양한 선택지
- **Trade-offs**: 커스터마이징 한계, 테마 호환성 확인 필요

### Decision 4: Fixed Categories over Dynamic
- **Options Considered**: 동적 카테고리, 고정 카테고리, 태그만
- **Chosen**: 고정 2개 (digests, learnings)
- **Rationale**: MVP 단순성, 명확한 콘텐츠 구분, 라우팅 간결
- **Trade-offs**: 새 카테고리 추가 시 코드 변경 필요

---

## 7. Edge Cases & Error Handling

### Edge Case 1: Frontmatter 파싱 실패
- **Situation**: 마이그레이션 스크립트가 기존 MD 형식을 인식 못할 때
- **Expected Behavior**: 경고 출력 + 해당 파일 스킵 (수동 처리 대상으로 표시)
- **Fallback**: 수동으로 frontmatter 추가

### Edge Case 2: 중복 Slug
- **Situation**: 같은 카테고리 내에서 동일한 slug 발생
- **Expected Behavior**: 빌드 시 에러 발생
- **Prevention**: 마이그레이션 스크립트에서 중복 체크

### Edge Case 3: 빈 카테고리
- **Situation**: 카테고리에 포스트가 없는 경우
- **Expected Behavior**: "아직 포스트가 없습니다" 메시지 표시

### Edge Case 4: 특수 문자 in Slug
- **Situation**: 한국어 파일명이나 특수문자가 slug에 포함
- **Expected Behavior**: 영문 소문자 + 하이픈으로 정규화

### Edge Case 5: 향후 이미지 추가
- **Situation**: 포스트에 이미지가 포함될 때
- **Expected Behavior**: `public/images/[category]/[slug]/` 에 저장, 상대 경로로 참조
- **Note**: MVP에서는 이미지 없음. 구조만 준비

---

## 8. Content Inventory & Migration Map

| # | Source File | Category | Target Slug | Lang |
|---|------------|----------|-------------|------|
| 1 | `digests/2026-01-27-ai-context-engineering-anthropic.md` | digests | `ai-context-engineering-anthropic` | ko |
| 2 | `digests/2026-02-23-ai-agent-era-software-survival.md` | digests | `ai-agent-era-software-survival` | ko |
| 3 | `learnings/2026-01-18-claude-code-marketplace-and-plugins.md` | learnings | `claude-code-marketplace-and-plugins` | ko |
| 4 | `learnings/2026-01-18-ai-pe-learning-agent-project-setup.md` | learnings | `ai-pe-learning-agent-project-setup` | ko |
| 5 | `learnings/2026-02-03-spec-interview-plugin-implementation.md` | learnings | `spec-interview-plugin-implementation` | ko |
| 6 | `learnings/2026-02-20-ai-engineering-fundamentals.md` | learnings | `ai-engineering-fundamentals` | ko |
| 7 | `learnings/2026-02-20-ai-engineering-fundamentals-en.md` | learnings | `ai-engineering-fundamentals-en` | en |

---

## 9. Risks & Mitigations

| Risk | Likelihood | Impact | Mitigation |
|------|-----------|--------|------------|
| 커뮤니티 테마가 Content Collections와 비호환 | Medium | High | 테마 선정 시 Astro v4+ 호환성 확인, 대안 테마 2-3개 사전 검토 |
| MD 파일 내 비표준 마크다운 렌더링 이슈 | Medium | Medium | 빌드 후 전체 포스트 시각적 검증 |
| GitHub Pages base path 설정 오류 | Low | High | `astro.config.mjs`에서 `base`, `site` 정확히 설정 |
| 마이그레이션 스크립트 파싱 오류 | Medium | Low | 7개 파일이므로 수동 검증 가능 |
| 1주일 내 완성 실패 | Low | Medium | Phase 1-3이 핵심, Phase 4-6은 축소 가능 |

---

## 10. Open Questions

- [ ] 커뮤니티 테마 최종 선정 (구현 시작 전 결정 필요)
- [ ] GitHub Pages URL: `username.github.io/ai-learning` vs 별도 repo `username.github.io`
- [ ] 향후 콘텐츠 작성 시 ai-digest/blog-generator 스킬 출력을 blog content 형식에 맞출지 여부

---

## 11. Success Metrics

| Metric | Target | Measurement |
|--------|--------|-------------|
| 배포 완료 | 1주일 내 라이브 | 접속 가능 여부 |
| 콘텐츠 마이그레이션 | 7/7 (100%) | 모든 포스트 정상 렌더링 |
| Lighthouse Performance | 90+ | Lighthouse audit |
| 빌드 시간 | < 30초 | GitHub Actions 로그 |
| 전체 링크 정상 | 0 broken links | 수동 검증 |

---

## 12. Workflow (Content Publishing)

```
1. Claude Code로 콘텐츠 생성 (ai-digest, blog-generator 등)
2. blog/src/content/[category]/ 에 MD 파일 저장
3. frontmatter 포함 확인
4. git add → commit → push to main
5. GitHub Actions 자동 빌드 → GitHub Pages 배포
6. 라이브 URL에서 확인
```

---

**Next Steps:**
1. 커뮤니티 테마 선정 (astro.build/themes에서 블로그 테마 비교)
2. 위 스펙 기반으로 구현 시작
